<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Lab 1 - Choinka i Domek</title>
  <script src="https://unpkg.com/three@0.116.1/build/three.min.js"></script>
</head>
<body>
  <script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 1, 100);
    camera.position.set(0, 0, 20);
    camera.lookAt(scene.position);

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var green = new THREE.MeshBasicMaterial({ color: 0x00ff00, side: THREE.DoubleSide });
    var brown = new THREE.MeshBasicMaterial({ color: 0x8B4513, side: THREE.DoubleSide });
    var red = new THREE.MeshBasicMaterial({ color: 0xff0000, side: THREE.DoubleSide });
    var blue = new THREE.MeshBasicMaterial({ color: 0x0000ff, side: THREE.DoubleSide });

    function createTriangle(y) {
      var geometry = new THREE.Geometry();
      geometry.vertices.push(
        new THREE.Vector3( 0, 1, 0 ),
        new THREE.Vector3(-1, -1, 0 ),
        new THREE.Vector3( 1, -1, 0 )
      );
      geometry.faces.push(new THREE.Face3(0, 1, 2));
      var mesh = new THREE.Mesh(geometry, green);
      mesh.position.y = y;
      return mesh;
    }

    var tree = new THREE.Object3D();
    tree.add(createTriangle(2));
    tree.add(createTriangle(0));
    tree.add(createTriangle(-2));
    tree.position.x = -4;
    scene.add(tree);

    var trunkGeometry = new THREE.PlaneGeometry(0.5, 1);
    var trunk = new THREE.Mesh(trunkGeometry, brown);
    trunk.position.set(-4, -4, 0);
    scene.add(trunk);

    var squareGeometry = new THREE.PlaneGeometry(2, 2);
    var square = new THREE.Mesh(squareGeometry, blue);
    square.position.set(4, -2, 0);
    scene.add(square);

    var roofGeometry = new THREE.Geometry();
    roofGeometry.vertices.push(
      new THREE.Vector3( 0, 1, 0 ),
      new THREE.Vector3(-1, -1, 0 ),
      new THREE.Vector3( 1, -1, 0 )
    );
    roofGeometry.faces.push(new THREE.Face3(0, 1, 2));
    var roof = new THREE.Mesh(roofGeometry, red);
    roof.position.set(4, 0, 0); // poprawione
    scene.add(roof);

    function animateScene() {
      requestAnimationFrame(animateScene);
      tree.rotation.z += 0.01;
      renderer.render(scene, camera);
    }

    animateScene();
  </script>
</body>
</html>